document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.tab, .panel').forEach(el => el.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById(tab.dataset.tab).classList.add('active');
  });
});

function runTrace() {
  document.getElementById('traceResult').textContent =
`Trace completed:
bank_001 → pix_002 → crypto_004`;
}

const ctx = document.getElementById('riskChart');
if (ctx) {
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Low', 'Medium', 'High'],
      datasets: [{
        label: 'Risk Score',
        data: [20, 50, 85]
      }]
    }
  });
}

const graphContainer = document.getElementById('graphView');
if (graphContainer) {
  const data = {
    nodes: new vis.DataSet([
      { id: 1, label: 'Bank' },
      { id: 2, label: 'PIX' },
      { id: 3, label: 'Crypto' }
    ]),
    edges: new vis.DataSet([
      { from: 1, to: 2 },
      { from: 2, to: 3 }
    ])
  };
  new vis.Network(graphContainer, data, {});
}

function runAI() {
  document.getElementById('aiResult').textContent =
'AI Explanation:\nFunds show indirect exposure risk.';
}
